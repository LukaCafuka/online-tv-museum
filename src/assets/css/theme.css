
html, body {
  margin:0; padding:0;
  font: 13px/1.4 Verdana, Tahoma, Arial, sans-serif;
  background:#d7dce3 linear-gradient(#eef1f5,#d7dce3);
  color:#222;
}
/* Prevent page width jump when vertical scrollbar appears/disappears (tab switches) */
html { scrollbar-gutter: stable both-edges; }
body { overflow-y: scroll; }
/* Sticky footer layout */
.page { flex-direction:column; min-height:100vh; }
.page main { flex:1 0 auto; }
.page footer { margin-top:auto; }
body a { color:#074c9e; text-decoration:none; }
body a:hover { text-decoration:underline; }

header.site-header {
  background: #4f6d8d linear-gradient(#6f8fb1,#466682);
  color:#fff;
  border-bottom:1px solid #2d4a63;
  padding: 1em;
  box-shadow:0 0 4px rgba(0,0,0,.25) inset;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
header.site-header a { color:#fff; }
header.site-header h1 { font-size:16px; margin:0; font-weight:600; text-shadow:0 1px 0 rgba(0,0,0,.35); }

main { max-width: 1040px; margin: 18px auto 40px; padding:0 18px 10px; }

/* Card grid */
#gear-grid { display:grid; gap:14px; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); }
.gear-item { position:relative; padding:10px 10px 12px; }
.gear-item.ui-widget-content { background:#fafafa; background:linear-gradient(#ffffff,#f1f1f1); }
.gear-item.ui-widget-content:hover { border-color:#6aa1d3; }
.gear-item img, .gear-item picture img { max-width:100%; height:auto; border:1px solid #bbb; background:#fff; padding:2px; box-shadow:0 0 3px rgba(0,0,0,.15); display:block; margin:0 auto 6px; }
.gear-item strong { display:block; margin-top:4px; font-size:14px; color:#123955; }
.gear-item small { color:#555; }
.gear-item .tag { position:absolute; top:6px; right:6px; background:#6f8fb1; color:#fff; padding:2px 6px; font-size:10px; letter-spacing:.5px; border-radius:3px; text-transform:uppercase; }
.gear-item p { margin:6px 0 0; }

/* Tabs adjustments */
.ui-tabs .ui-tabs-nav { font-size:12px; }
.ui-tabs .ui-tabs-nav li a { padding:6px 12px; }

/* Detail article */
.gear-detail { max-width:880px; width:100%; margin:0 auto; display:block; box-sizing:border-box; }
.gear-detail h2 { font-size:20px; margin:0 0 10px; color:#123955; }
.gear-detail { background:linear-gradient(#ffffff,#f5f5f5); padding:20px 24px 26px; }
.gear-detail img, .gear-detail picture img { background:#fff; padding:4px; box-shadow:0 0 4px rgba(0,0,0,.18); }
.gear-detail .detail-image, .gear-detail picture { max-width:420px; width:100%; display:block; margin:0 0 16px; }
.gear-detail picture img { width:100%; height:auto; }

/* Gallery (re-added) */
.gallery-grid { display:grid; gap:10px; grid-template-columns: repeat(auto-fill,minmax(120px,1fr)); margin-top:8px; }
.gallery-thumb { display:flex; align-items:center; justify-content:center; padding:4px; background:#fff; text-align:center; position:relative; overflow:hidden; border:1px solid #b5bcc2; aspect-ratio:4/3; }
.gallery-thumb img { width:100%; height:100%; border-radius: 8px; object-fit:cover; display:block; }

/* If you want perfectly uniform thumbnail frames, uncomment below:
.gallery-thumb { aspect-ratio:4/3; display:flex; align-items:center; justify-content:center; }
.gallery-thumb img { width:100%; height:100%; object-fit:cover; }
*/
.gallery-thumb:hover { box-shadow:0 0 4px rgba(0,0,0,.35); border-color:#6aa1d3; }

/* Footer */
footer { text-align:center; padding:30px 0 50px; font-size:11px; color:#4a5866; }

/* Utility */
.ui-widget { font-family:inherit; }
.ui-widget-header { background:linear-gradient(#6f8fb1,#4e6d8a); color:#fff; border:1px solid #3f5c74; }
.ui-widget-content { border:1px solid #b5bcc2; border-radius:6px; }

/* Responsive image fixes */
picture { display: block; }
picture img { width: 100%; height: auto; max-width: 100%; }

/* Hover / active states */
.ui-state-hover, .ui-widget-content .ui-state-hover { background:linear-gradient(#e3f1fb,#c5e0f5); border-color:#6aa1d3; }
.ui-state-active, .ui-tabs-active a { background:linear-gradient(#6ebafc,#1c4366)!important; }

/* Language switch area */
.lang-switch { font-size:12px; }

/* Lightbox modal */
.lightbox.hidden { display:none; }
#lightbox { position:fixed; inset:0; z-index:1000; }
#lightbox .lightbox-backdrop { position:absolute; inset:0; background:rgba(0,0,0,.65); backdrop-filter:saturate(140%) blur(2px); }
#lightbox .lightbox-content { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:85vw; max-width:1500px; height:75vh; max-height:1600px; padding:14px 18px 16px; background:#fff; box-shadow:0 8px 28px rgba(0,0,0,.45); display:flex; flex-direction:column; }
#lightbox-img { display:block; width:100%; height:calc(100% - 40px); object-fit:contain; margin:0 0 10px; }
#lightbox-caption { margin:0; font-size:12px; color:#234; word-break:break-word; flex-shrink:0; max-height:30px; overflow:hidden; }
.lightbox-close { position:absolute; top:4px; right:6px; border:1px solid #999; background:#eee; width:26px; height:26px; font-size:18px; line-height:22px; cursor:pointer; }
.lightbox-close:hover { background:#fff; }
.gallery-grid .gallery-thumb { cursor:pointer; }
.lightbox-actions { display:flex; gap:8px; margin:0 0 6px; flex-shrink:0; }
.lightbox-original { font-size:12px; padding:4px 8px; text-decoration:none; border:1px solid #9db2c4; background:linear-gradient(#f7fafd,#dfe9f2); color:#123955; }
.lightbox-original:hover { background:#fff; }

/* Lightbox navigation - positioned relative to viewport, not content */
.lightbox-nav { position:fixed; top:50%; left:0; right:0; display:flex; justify-content:space-between; padding:0 20px; pointer-events:none; transform:translateY(-50%); z-index:1001; }
.lightbox-nav button { pointer-events:auto; background:rgba(255,255,255,.85); border:1px solid #7a8da0; width:50px; height:70px; font-size:32px; line-height:66px; cursor:pointer; border-radius:8px; display:flex; align-items:center; justify-content:center; box-shadow:0 4px 12px rgba(0,0,0,.3); }
.lightbox-nav button:hover { background:#fff; }
.lightbox-nav button:active { transform:scale(.95); }

/* Fix: jQuery UI .ui-helper-clearfix adds :before/:after that become grid items. Hide them on gear grid. */
#gear-grid.ui-helper-clearfix:before,
#gear-grid.ui-helper-clearfix:after { content:none !important; display:none !important; }
.gear-meta { margin:10px 0 0; font-size:1rem; font-weight: 600; color:#234; border-top:1px solid #d2d7dc; padding-top:6px; }

/* Stabilize tab container width so switching tabs doesn't shrink card */
.gear-detail .ui-tabs { width:100%; }
.gear-detail .ui-tabs-nav { flex-wrap:nowrap; }

